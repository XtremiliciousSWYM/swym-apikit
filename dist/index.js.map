{"version":3,"file":"index.js","sources":["../src/config.js","../src/utils/index.js","../src/index.js"],"sourcesContent":["const config = {\n    \n}\n\nexport default config","import config from \"../config\"\n\nlet hdls_ls_name = 'hdls_ls' // Local Storage Key storing config and list objects\n\n\n\nexport const swymPostData = async (url = \"\", data = {}, successCallback, failureCallback) => {\n\n    var urlencoded = new URLSearchParams()\n    for (const key in data) {\n        let dataValue = data[key];\n        if (Array.isArray(dataValue)) {\n\n            dataValue = JSON.stringify(data[key])\n        }\n        urlencoded.append(key, dataValue)\n    }\n\n\n    console.log(url, data, \"CALL\")\n\n    // Default options are marked with *\n    return await fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: urlencoded,\n    }).then(function (response) {\n        console.log(response);\n        if (successCallback) {\n            successCallback(response.data)\n        }\n        return response;\n\n    }).catch(function (error) {\n        console.log(error);\n        if (failureCallback) {\n            failureCallback(error);\n        }\n\n        return error;\n    });\n}\n\nfunction createSwymSession(len) {\n    // Len is length usually 64\n    var outStr = '',\n        newStr\n    while (outStr.length < len) {\n        newStr = Math.random().toString(36 /*radix*/).slice(2 /* drop decimal*/)\n        outStr += newStr.slice(0, Math.min(newStr.length, len - outStr.length))\n    }\n\n    var timestamp = Date.now()\n\n    var swymSession = {\n        sessionid: outStr.toLowerCase(),\n        timestamp: timestamp,\n    }\n\n    return swymSession\n}\n\nfunction compareTimestamp(endDate, startDate) {\n    var diff = endDate - startDate\n    return diff / 60000\n}\n\n\nexport async function initDefaultWishlist(swymConfig) {\n    console.log('Hdls - Fetching or Creating List for Current Regid')\n\n    return fetch(\n        `${config.swymHost\n        }/api/v3/lists/fetch-lists?pid=${encodeURIComponent(\n            config.swymPid\n        )}`,\n        {\n            body: `regid=${swymConfig.regid}&sessionid=${swymConfig.sessionid}`,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            method: 'POST',\n        }\n    )\n        .then((response) => response.json())\n        .then((data) => {\n            if (data.length) {\n                console.log('Hdls - List Fetched for User')\n\n                return data[0]\n            } else {\n                return fetch(\n                    `${config.swymHost\n                    }/api/v3/lists/create?pid=${encodeURIComponent(\n                        config.swymPid\n                    )}`,\n                    {\n                        body: `lname=${config.swymLname}&sessionid=${swymConfig.sessionid}&regid=${swymConfig.regid}`,\n                        headers: {\n                            Accept: 'application/json',\n                            'Content-Type': 'application/x-www-form-urlencoded',\n                        },\n                        method: 'POST',\n                    }\n                )\n                    .then((response) => response.json())\n                    .then((data) => {\n                        console.log('Hdls - List Created for User')\n\n                        return data\n                    })\n            }\n        })\n}\n\nexport async function refreshSwymConfig(swymConfig, skipCheck = false, token = null) {\n\n\n    if (window._isSwymLoading && !skipCheck) {\n        return;\n    }\n\n    var hdls_ls = JSON.parse(localStorage.getItem(hdls_ls_name))\n\n    window._isSwymLoading = true;\n    var swymConfigData = { ...hdls_ls, ...swymConfig }\n\n    //console.log(swymConfigData)\n\n    if (swymConfigData == null || Object.keys(swymConfigData).length === 0 || token) {\n        console.log('Regid not found on refresh', swymConfig)\n\n        var swymRegid = await generateSwymConfig(token)\n        swymConfigData = { ...swymRegid }\n        return refreshSwymConfig(swymConfigData, true)\n    } else if (\n        swymConfigData.swymSession != null &&\n        compareTimestamp(Date.now(), swymConfigData.swymSession.timestamp) >= 30\n    ) {\n        var swymSession = { swymSession: createSwymSession(24) }\n        swymConfigData = { ...swymConfigData, ...swymSession }\n\n        console.log('SwymSession not found on refresh', swymSession, swymConfigData)\n\n        return refreshSwymConfig(swymConfigData, true)\n    } else if (typeof swymConfigData.lid == 'undefined') {\n        console.log('List not found on refresh', swymConfigData)\n\n        var list = await initDefaultWishlist(swymConfigData)\n        swymConfigData = { ...swymConfigData, ...list }\n        localStorage.setItem(hdls_ls_name, JSON.stringify(swymConfigData))\n\n        window._isSwymLoading = false;\n        return swymConfigData\n    } else {\n        localStorage.setItem(hdls_ls_name, JSON.stringify(swymConfigData))\n\n        window._isSwymLoading = false;\n        return swymConfigData\n    }\n}\n\nasync function getCustomerEmail(customerToken) {\n    var myHeaders = new Headers()\n    myHeaders.append(\n        'X-Shopify-Storefront-Access-Token',\n        config.storefrontAccessToken\n    )\n    myHeaders.append('Content-Type', 'application/json')\n\n    var graphql = JSON.stringify({\n        query: `{\\n  customer(customerAccessToken : \"${customerToken}\") {\\n    id\\n    firstName\\n    lastName\\n    acceptsMarketing\\n    email\\n    phone\\n  }\\n}`,\n        variables: {},\n    })\n    var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: graphql,\n        redirect: 'follow',\n    }\n\n    return fetch(config.storefrontGraphqlEndpoint, requestOptions)\n        .then((response) => response.json())\n        .then((result) => {\n            return result\n        })\n        .catch((error) => console.log('error', error))\n}\n\nfunction createSessionid(len) {\n    // Len is length usually 64\n    var outStr = '',\n        newStr\n    while (outStr.length < len) {\n        newStr = Math.random().toString(36 /*radix*/).slice(2 /* drop decimal*/)\n        outStr += newStr.slice(0, Math.min(newStr.length, len - outStr.length))\n    }\n\n    var timestamp = Date.now()\n\n    var swymSession = {\n        sessionid: outStr.toLowerCase(),\n        timestamp: timestamp,\n    }\n\n    return outStr.toLowerCase()\n}\n\nexport async function generateSwymConfig(customerToken) {\n    if (customerToken != null) {\n\n        var data = await getCustomerEmail(customerToken)\n\n        console.log(data.data.customer)\n        var hdls_ls = JSON.parse(localStorage.getItem(hdls_ls_name))\n\n        if(hdls_ls?.regid == null){\n            hdls_ls = await generateSwymConfig();\n        }\n\n        var extuid = window\n            .atob(data.data.customer.id)\n            .split('gid://shopify/Customer/')[1]\n\n        var myHeaders = new Headers()\n        myHeaders.append('Content-Type', 'application/x-www-form-urlencoded')\n\n        var urlencoded = new URLSearchParams()\n        urlencoded.append('regid', hdls_ls.regid)\n        urlencoded.append('sessionid', hdls_ls.swymSession.sessionid)\n        urlencoded.append('platform', 'shopify')\n        urlencoded.append('extuid', parseInt(extuid))\n\n        var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: urlencoded,\n            redirect: 'follow',\n        }\n\n        return fetch(\n            `https://swymstore-v3dev-01-01.swymrelay.com/api/v3/lists/user-validate-sync?pid=${encodeURIComponent(\n                config.swymPid\n            )}`,\n            requestOptions\n        )\n            .then((response) => response.json())\n            .then((result) => {\n                console.log('Hdls - User Login Detected and RegID generated', result)\n\n                const swymConfig = {\n                    regid: result.regid,\n                    swymSession: {\n                        sessionid: createSessionid(32),\n                        timestamp: Date.now(),\n                    },\n                }\n\n                return swymConfig\n            })\n            .catch((error) => {\n                console.log('error', error)\n\n                return error\n            })\n    } else {\n        return fetch(\n            `${config.swymHost\n            }/api/v3/provider/register?pid=${encodeURIComponent(\n                config.swymPid\n            )}`,\n            {\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                method: 'POST',\n            }\n        )\n            .then((response) => response.json())\n            .then((result) => {\n                console.log('Hdls - User Logout Detected and RegID generated')\n\n                const swymConfig = {\n                    regid: result.regid,\n                    swymSession: createSwymSession(24),\n                }\n\n                return swymConfig\n            })\n            .catch((error) => {\n                console.log('error', error)\n\n                return error\n            })\n    }\n}\n\n","const config = {\n    storefrontAccessToken: 'd5ce1088134f96f92c84dd3a35162375', //Get from Shopify Develop app\n    storefrontGraphqlEndpoint:\n        'https://exploration-dev.myshopify.com/api/2021-07/graphql.json', //Shopiy Store url with graphql config.swymHost\n    swymPid: '+pxGce9PbGdFuQYBCViiiol74a7VEIWjEi1rmNHmdAQ=', //Unique provider id from Swym Dashboard\n    swymHost: 'https://swymstore-v3dev-01-01.swymrelay.com', //Get from Swym Dashboard\n    swymLname: 'My Wishlist',\n}\n\n\n\n\nlet hdls_ls_name = 'hdls_ls' // Local Storage Key storing config and list objects\nimport {swymPostData, refreshSwymConfig} from \"./utils/index\"\n\n\nexport const swapi = {\n    console: () => {\n        console.log(process.env.REACT_APP_MY_ENV);\n    },\n    authenticateUser: async (customerAccessToken) => {\n        refreshSwymConfig(null, false, customerAccessToken);\n\n    },\n    createList: async (options = {}) => {\n        const configData = await refreshSwymConfig(null);\n        console.log(configData)\n        options.regid = encodeURIComponent(configData.regid);\n        options.sessionid = encodeURIComponent(configData.swymSession.sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/create?pid=${encodeURIComponent(config.swymPid)}`,\n            options\n        );\n    },\n    fetchLists: async () => {\n        const configData = await refreshSwymConfig(null);\n        console.log(configData)\n\n        let options = {\n            regid: encodeURIComponent(configData.regid),\n            sessionid: encodeURIComponent(configData.swymSession.sessionid)\n        };\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/fetch-lists?pid=${encodeURIComponent(config.swymPid)}`,\n            options\n        );\n    },\n    updateList: async (options = {}) => {\n        const configData = await refreshSwymConfig(null);\n        console.log(configData)\n\n        options.regid = encodeURIComponent(configData.regid);\n        options.sessionid = encodeURIComponent(configData.swymSession.sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/update?pid=${encodeURIComponent(config.swymPid)}`,\n            options\n        );\n    },\n    deleteList: async (options = {}) => {\n        if (regid == null || sessionid == null) {\n            await swapi.generateUserIds();\n        }\n\n        options.regid = encodeURIComponent(regid);\n        options.sessionid = encodeURIComponent(sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/delete-list?pid=${encodeURIComponent(config.swymPid)}`,\n            options\n        );\n    },\n    fetchListContent: async (options = {}, successCallback) => {\n        const configData = await refreshSwymConfig(null);\n\n        options.regid = encodeURIComponent(configData.regid);\n        options.sessionid = encodeURIComponent(configData.swymSession.sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/fetch-list-with-contents?pid=${encodeURIComponent(config.swymPid)}`,\n            options,\n            successCallback\n        );\n    },\n    updateListCtx: async (options = {}, successCallback) => {\n        const configData = await refreshSwymConfig(null);\n  \n        options.regid = encodeURIComponent(configData.regid);\n        options.sessionid = encodeURIComponent(configData.swymSession.sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/api/v3/lists/update-ctx?pid=${encodeURIComponent(config.swymPid)}`,\n            options,\n            successCallback\n        );\n    },\n    createSubscription: async (options= {}) => {\n        const configData = await refreshSwymConfig(null);\n  \n        options.regid = encodeURIComponent(configData.regid);\n        options.sessionid = encodeURIComponent(configData.swymSession.sessionid);\n\n        return await swymPostData(\n            `${config.swymHost}/storeadmin/bispa/subscriptions/create`,\n            options\n        );\n    },\n}\n\nexport default swapi;\n\n\n"],"names":["config"],"mappings":"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"}